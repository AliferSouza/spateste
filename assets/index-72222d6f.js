(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const p of s.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&e(p)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();function N(r,t,o){if(r==="getItem")return JSON.parse(window.localStorage.getItem(t));if(r==="setItem")window.localStorage.setItem(t,JSON.stringify(o));else if(r==="setItems"){const e=JSON.parse(localStorage.getItem(t)||"[]");e.push(o),localStorage.setItem(t,JSON.stringify(e))}}async function I(){async function r(){return new Promise((t,o)=>{if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{const n=e.coords.latitude,s=e.coords.longitude;t({latitude:n,longitude:s})},e=>{o(e)});else{const e=new Error("Geolocation is not supported by this browser.");o(e)}})}try{const{latitude:t,longitude:o}=await r();return[t,o]}catch(t){return console.log("Erro ao obter localização:",t.message),[null,null]}}async function _(r,t){history.pushState(null,null,r),T(t)}async function $(r){try{const o=new TextEncoder().encode(r),e=await crypto.subtle.digest("SHA-256",o);return Array.from(new Uint8Array(e)).map(p=>p.toString(16).padStart(2,"0")).join("")}catch(t){throw new Error("Erro ao criptografar a senha: "+t)}}async function x(r,t){const o=t||",",s=(await(await fetch(r)).text()).split(`
`),p=s[0].split(o);return s.slice(1).map(S=>S.split(o).reduce((m,b,E)=>{const y={};return y[p[E]]=b,{...m,...y}},{}))}function F(r,t){return[t.join(","),...r.map(o=>t.map(e=>o[e]||"").join(","))].join(`
`)}const J=r=>{const t=document.querySelectorAll(r);if(t.length===0)return r;const o={addClass:e=>(t.forEach(n=>{n.classList.add(e)}),o),removeClass:e=>(t.forEach(n=>{n.classList.remove(e)}),o),text:e=>(t.forEach(n=>{n.textContent=e}),o),css:e=>(t.forEach(n=>{Object.assign(n.style,e)}),o),on:(e,n)=>(t.forEach(s=>{s.addEventListener(e,n)}),o),appendImage:e=>(t.forEach(n=>{const s=document.createElement("img");s.src=e,n.appendChild(s)}),o),hide:()=>(t.forEach(e=>{e.style.originalDisplay=e.style.display,e.style.display="none"}),o),show:()=>(t.forEach(e=>{e.style.display=e.style.originalDisplay||"",delete e.style.originalDisplay}),o),tag:()=>t[0],tags:()=>t};return o},T=async(r={},t={})=>{const o=document.querySelector("#app"),{Pages:e={},Components:n={},Data:s={}}=r,p=()=>{const a=location.hash.replace("#","")||location.pathname;return a==="/"?Object.keys(e)[0]:a.split("#")[0].split("/").filter(Boolean).pop()};async function S(){const a={},f=async i=>{const h=Array.from(i.getAttributeNames()).reduce((l,w)=>w.startsWith("data-")?l:{...l,[w]:i.getAttribute(w)},{}),c=i.tagName.toLowerCase(),g={componentKey:c,attributes:h,parameter:Object.fromEntries(new URLSearchParams(location.href.split("?")[1]).entries()),Data:s,tag:i};try{if(c){let l;if(t.compFetch)if(a[c])l=await a[c](g);else{const j=await(await fetch(`${location.origin}/app/components/${c}.js`)).text(),A=Function("return "+j)();l=await A(g),a[c]=A}else l=await n[c](g);typeof l=="string"&&(i.innerHTML+=l),typeof l=="object"&&typeof l.html=="function"&&(i.innerHTML+=l.html()),typeof l=="object"&&typeof l.state=="function"&&l.state()}else throw new Error(`Componente não encontrado para a tag: ${c}`)}catch(l){console.error("Erro ao processar componente:",l)}await d(i)},d=async i=>{const h=Array.from(i.querySelectorAll("*")).filter(c=>c.tagName.toLowerCase().match(/^comp-/i));for(let c=0;c<h.length;c++){const g=h[c];await f(g)}},u=Array.from(document.querySelectorAll("*")).filter(i=>i.tagName.toLowerCase().match("-")),O=[],P=new IntersectionObserver(async function(i,h){const c=i[0];if(c.isIntersecting){await f(c.target),h.unobserve(c.target);const g=L();g&&h.observe(g)}});function L(){for(const i of u)if(!O.includes(i))return O.push(i),i;return null}const v=L();v&&P.observe(v)}async function m(){const a=p();if((a&&e[a]?a:"erro")==="erro")E(a);else{const d={Data:s};let u;if(t.compFetch){const P=await(await fetch(`${location.origin}/app/pages/@${a}.js`)).text();u=await Function("return "+P)()(d)}else u=e[a](d);typeof u=="string"&&(o.innerHTML=u),typeof u=="object"&&typeof u.html=="function"&&(o.innerHTML=u.html()),S(),typeof u.state=="function"&&u.state()}}function b(a,f){let d;return function(...u){clearTimeout(d),d=setTimeout(()=>{a.apply(this,u)},f)}}function E(a){o.innerHTML=`
    <div class="erroPages">
      ${Object.keys(a).map((f,d)=>`<a class="pagina-erro" id="${d}"  data-href="/#/${f}/">${f.toUpperCase()}</a>`).join("")}
    </div>
  `}function y(a){if(a.target.matches("[data-href]")){a.preventDefault();const f=a.target.dataset.href;history.pushState(null,null,f),m()}}window.addEventListener("popstate",m),document.body.addEventListener("click",b(y,200)),m()},C=Object.freeze(Object.defineProperty({__proto__:null,$:J,Router:T,useCSVToJSON:x,useId:$,useJSONToCSV:F,useLocalStorage:N,useLocation:I,useNavigate:_},Symbol.toStringTag,{value:"Module"}));async function D(){const r=await useCSVToJSON("/data/massagens/massagens.csv",";");return{dadosC:await useCSVToJSON("/data/colaboradores/colaboradores.csv",";"),dadosP:r}}Object.keys(C).forEach(r=>{typeof C[r]=="function"&&(window[r]=C[r])});async function H(){const r={home:"home",perfil:"perfil",produto:"produto",shop:"shop",perfumaria:"perfumaria",teste:"teste"},t=await D(),o={path:location.origin,compFetch:!0};Router({Pages:r,compo:{},Data:t},o)}H();
